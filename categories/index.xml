<?xml version="1.0" encoding="utf-8" standalone="yes"?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>Categories on hacking the markets</title>
    <link>https://hackingthemarkets.github.io/categories/</link>
    <description>Recent content in Categories on hacking the markets</description>
    <generator>Hugo -- gohugo.io</generator>
    <language>en-us</language>
    
	<atom:link href="https://hackingthemarkets.github.io/categories/index.xml" rel="self" type="application/rss+xml" />
    
    
    
    <item>
      <title>web3 tutorial [05/10] - alchemy: deploying our smart contract</title>
      <link>https://hackingthemarkets.github.io/posts/calend3-alchemy/</link>
      <pubDate>Sat, 20 Feb 2021 09:31:29 -0800</pubDate>
      
      <guid>https://hackingthemarkets.github.io/posts/calend3-alchemy/</guid>
      <description>&lt;br /&gt;

&lt;div style=&#34;position: relative; padding-bottom: 56.25%; height: 0; overflow: hidden;&#34;&gt;
  &lt;iframe src=&#34;https://www.youtube.com/embed/ftGruNA50QU&#34; style=&#34;position: absolute; top: 0; left: 0; width: 100%; height: 100%; border:0;&#34; allowfullscreen title=&#34;YouTube Video&#34;&gt;&lt;/iframe&gt;
&lt;/div&gt;

&lt;aside id=&#34;toc&#34;&gt;
    &lt;h4&gt;Table of Contents&lt;/h4&gt;
    &lt;nav id=&#34;TableOfContents&#34;&gt;
  &lt;ul&gt;
    &lt;li&gt;&lt;a href=&#34;#deploying-to-a-testnet&#34;&gt;Deploying to a Testnet&lt;/a&gt;&lt;/li&gt;
    &lt;li&gt;&lt;a href=&#34;#what-is-alchemy&#34;&gt;What is Alchemy?&lt;/a&gt;
      &lt;ul&gt;
        &lt;li&gt;&lt;a href=&#34;#create-an-alchemy-app&#34;&gt;Create an Alchemy App&lt;/a&gt;&lt;/li&gt;
        &lt;li&gt;&lt;a href=&#34;#copy-your-api-key&#34;&gt;Copy Your API Key&lt;/a&gt;&lt;/li&gt;
      &lt;/ul&gt;
    &lt;/li&gt;
    &lt;li&gt;&lt;a href=&#34;#hardhat-deployment-configuration&#34;&gt;Hardhat Deployment Configuration&lt;/a&gt;&lt;/li&gt;
    &lt;li&gt;&lt;a href=&#34;#create-a-deploy-script&#34;&gt;Create a Deploy Script&lt;/a&gt;&lt;/li&gt;
    &lt;li&gt;&lt;a href=&#34;#run-the-deploy-script&#34;&gt;Run the Deploy Script&lt;/a&gt;&lt;/li&gt;
  &lt;/ul&gt;
&lt;/nav&gt;
&lt;/aside&gt;

&lt;h1 id=&#34;deploying-to-a-testnet&#34;&gt;Deploying to a Testnet&lt;/h1&gt;
&lt;p&gt;So far we have only compiled and tested our smart contract locally. The next step is to deploy it to an Ethereum &lt;strong&gt;testnet&lt;/strong&gt;. There are several testnets available to developers: Rinkeby, Kovan, Ropsten, and Goerli. These networks allow us to test our smart contract in &amp;ldquo;production-like&amp;rdquo; staging environment using &lt;strong&gt;test ether&lt;/strong&gt; before we go to mainnet.&lt;/p&gt;
&lt;aside id=&#34;toc&#34;&gt;
    &lt;h4&gt;Table of Contents&lt;/h4&gt;
    &lt;nav id=&#34;TableOfContents&#34;&gt;
  &lt;ul&gt;
    &lt;li&gt;&lt;a href=&#34;#deploying-to-a-testnet&#34;&gt;Deploying to a Testnet&lt;/a&gt;&lt;/li&gt;
    &lt;li&gt;&lt;a href=&#34;#what-is-alchemy&#34;&gt;What is Alchemy?&lt;/a&gt;
      &lt;ul&gt;
        &lt;li&gt;&lt;a href=&#34;#create-an-alchemy-app&#34;&gt;Create an Alchemy App&lt;/a&gt;&lt;/li&gt;
        &lt;li&gt;&lt;a href=&#34;#copy-your-api-key&#34;&gt;Copy Your API Key&lt;/a&gt;&lt;/li&gt;
      &lt;/ul&gt;
    &lt;/li&gt;
    &lt;li&gt;&lt;a href=&#34;#hardhat-deployment-configuration&#34;&gt;Hardhat Deployment Configuration&lt;/a&gt;&lt;/li&gt;
    &lt;li&gt;&lt;a href=&#34;#create-a-deploy-script&#34;&gt;Create a Deploy Script&lt;/a&gt;&lt;/li&gt;
    &lt;li&gt;&lt;a href=&#34;#run-the-deploy-script&#34;&gt;Run the Deploy Script&lt;/a&gt;&lt;/li&gt;
  &lt;/ul&gt;
&lt;/nav&gt;
&lt;/aside&gt;

&lt;h1 id=&#34;what-is-alchemy&#34;&gt;What is Alchemy?&lt;/h1&gt;
&lt;p&gt;While we &lt;em&gt;could&lt;/em&gt; technically run our own Ethereum node, we would need to invest time and money into reliability, alerting, resource monitoring, and disaster recovery. Ain&amp;rsquo;t nobody got time for that.&lt;/p&gt;
&lt;p&gt;We want to focus our time and attention on building our dapp. This is why we will be using Alchemy, a blockchain developer platform that provides this node infrastructure for us.&lt;/p&gt;
&lt;h2 id=&#34;create-an-alchemy-app&#34;&gt;Create an Alchemy App&lt;/h2&gt;
&lt;p&gt;To get started, visit the &lt;a href=&#34;https://www.alchemy.com/&#34;&gt;Alchemy website&lt;/a&gt; and sign up for an account. Once registered, click the Create App button on your dashboard. You should see a dialog that looks like the one below.&lt;/p&gt;
&lt;p&gt;Give your application a name and description. Under Network, select Goerli (a test network) and click Create App. This will take you to a dashboard where you can monitor your app.&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://hackingthemarkets.github.io/web3-tutorial/alchemy/alchemy1_createapp.png&#34; alt=&#34;Create Alchemy App&#34;&gt;&lt;/p&gt;
&lt;h2 id=&#34;copy-your-api-key&#34;&gt;Copy Your API Key&lt;/h2&gt;
&lt;p&gt;On the application dashboard, click the View Key button and copy your key to the clipboard. We will add this key to our hardhat.config.js.&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://hackingthemarkets.github.io/web3-tutorial/alchemy/alchemy2_viewkey.png&#34; alt=&#34;Copy API Key&#34;&gt;&lt;/p&gt;
&lt;h1 id=&#34;hardhat-deployment-configuration&#34;&gt;Hardhat Deployment Configuration&lt;/h1&gt;
&lt;p&gt;Open your hardhat.config.js file and add the goerli test network using the format below. For the &amp;ldquo;url&amp;rdquo;, paste in the API Key URL you copied above.&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-javascript&#34; data-lang=&#34;javascript&#34;&gt;&lt;span class=&#34;nx&#34;&gt;module&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;exports&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
  &lt;span class=&#34;nx&#34;&gt;solidity&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;0.8.4&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;
  &lt;span class=&#34;nx&#34;&gt;networks&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
    &lt;span class=&#34;nx&#34;&gt;goerli&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
      &lt;span class=&#34;nx&#34;&gt;url&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;https://eth-goerli.alchemyapi.io/v2/yourapiurl&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;
      &lt;span class=&#34;nx&#34;&gt;accounts&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;private key here&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;],&lt;/span&gt;
    &lt;span class=&#34;p&#34;&gt;},&lt;/span&gt;
  &lt;span class=&#34;p&#34;&gt;},&lt;/span&gt;
&lt;span class=&#34;p&#34;&gt;};&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;Under accounts, you will need to provide a private key. To export your private key from Metamask:&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;Click the 3 dots on the top right&lt;/li&gt;
&lt;li&gt;Click Account Details&lt;/li&gt;
&lt;li&gt;Click the Export Private Key button&lt;/li&gt;
&lt;li&gt;Enter your Metamask password and Confirm.&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;img src=&#34;https://hackingthemarkets.github.io/web3-tutorial/alchemy/alchemy3_export.png&#34; alt=&#34;Export Private Key&#34;&gt;&lt;/p&gt;
&lt;p&gt;Put your private key in quotes where it says &amp;ldquo;private key here&amp;rdquo;. &lt;strong&gt;DO NOT&lt;/strong&gt; commit this file to git or show it to anyone. We are only using the private key here to deploy our smart contract to the blockchain.&lt;/p&gt;
&lt;p&gt;Alchemy does not support private keys, this key is used to sign transaction.&lt;/p&gt;
&lt;p&gt;&lt;a href=&#34;https://docs.alchemy.com/alchemy/resources/faq&#34;&gt;https://docs.alchemy.com/alchemy/resources/faq&lt;/a&gt;&lt;/p&gt;
&lt;h1 id=&#34;create-a-deploy-script&#34;&gt;Create a Deploy Script&lt;/h1&gt;
&lt;p&gt;When we initialized our hardhat project, it created a default deployment script. Let&amp;rsquo;s edit this to deploy our Calend3 smart contract. Open &lt;strong&gt;scripts/deploy.js&lt;/strong&gt; in your text editor and change greeter to Contract / Calend3 as shown below. Feel free to use a more specific variable name than Contract/contract.&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-javascript&#34; data-lang=&#34;javascript&#34;&gt;&lt;span class=&#34;c1&#34;&gt;// We require the Hardhat Runtime Environment explicitly here. This is optional
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;// but useful for running the script in a standalone fashion through `node &amp;lt;script&amp;gt;`.
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;//
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;// When running the script with `npx hardhat run &amp;lt;script&amp;gt;` you&amp;#39;ll find the Hardhat
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;// Runtime Environment&amp;#39;s members available in the global scope.
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;&lt;span class=&#34;kr&#34;&gt;const&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;hre&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;require&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;hardhat&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;);&lt;/span&gt;

&lt;span class=&#34;kr&#34;&gt;async&lt;/span&gt; &lt;span class=&#34;kd&#34;&gt;function&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;main&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;()&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
  &lt;span class=&#34;c1&#34;&gt;// Hardhat always runs the compile task when running scripts with its command
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;  &lt;span class=&#34;c1&#34;&gt;// line interface.
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;  &lt;span class=&#34;c1&#34;&gt;//
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;  &lt;span class=&#34;c1&#34;&gt;// If this script is run directly using `node` you may want to call compile
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;  &lt;span class=&#34;c1&#34;&gt;// manually to make sure everything is compiled
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;  &lt;span class=&#34;c1&#34;&gt;// await hre.run(&amp;#39;compile&amp;#39;);
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;
  &lt;span class=&#34;c1&#34;&gt;// We get the contract to deploy
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;  &lt;span class=&#34;kr&#34;&gt;const&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;Contract&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;kr&#34;&gt;await&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;hre&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;ethers&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;getContractFactory&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;Calend3&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;);&lt;/span&gt;
  &lt;span class=&#34;kr&#34;&gt;const&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;contract&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;kr&#34;&gt;await&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;Contract&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;deploy&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;();&lt;/span&gt;

  &lt;span class=&#34;kr&#34;&gt;await&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;contract&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;deployed&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;();&lt;/span&gt;

  &lt;span class=&#34;nx&#34;&gt;console&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;log&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;Calend3 contract deployed to:&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;contract&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;address&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;);&lt;/span&gt;
&lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;

&lt;span class=&#34;c1&#34;&gt;// We recommend this pattern to be able to use async/await everywhere
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;// and properly handle errors.
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;main&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;()&lt;/span&gt;
  &lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;then&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(()&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;process&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;exit&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;0&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;))&lt;/span&gt;
  &lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;k&#34;&gt;catch&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;((&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;error&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
    &lt;span class=&#34;nx&#34;&gt;console&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;error&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;error&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;);&lt;/span&gt;
    &lt;span class=&#34;nx&#34;&gt;process&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;exit&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;);&lt;/span&gt;
  &lt;span class=&#34;p&#34;&gt;});&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h1 id=&#34;run-the-deploy-script&#34;&gt;Run the Deploy Script&lt;/h1&gt;
&lt;p&gt;To deploy your smart contract to your local blockchain, use hardhat to run the script without a network parameter:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;npx hardhat run scripts/deploy.js
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;You should see a message that the contract was deployed to a specific address:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;Calend3 contract deployed to: 0x5FbDB2315678afecb367f032d93F642f64180aa3
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;This will allow us to test our web application locally against our local blockchain.&lt;/p&gt;
&lt;p&gt;We are going to go ahead and deploy our smart contract to the Goerli testnet. To do this, use the parameter &amp;ndash;network and pass in the name of the test network:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;npx hardhat run scripts/deploy.js --network goerli
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;This will take a few seconds since it is deploying the smart contract to an actual remote network. Once it is finished, you should see your smart contract&amp;rsquo;s address on the Goerli network:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;Calend3 contract deployed to: 0x2e0f141E3C228D240735A4EBD8Fe07c0E3a6156B
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;Now that it is deployed, we can see it on the &lt;a href=&#34;https://goerli.etherscan.io/&#34;&gt;Goerli Testnet Etherscan&lt;/a&gt;. Here is a &lt;a href=&#34;https://goerli.etherscan.io/address/0x2e0f141E3C228D240735A4EBD8Fe07c0E3a6156B&#34;&gt;link to mine&lt;/a&gt;. Type your contract address into Goerli Etherscan. You should see a Contract Creation transaction like the one below:&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://hackingthemarkets.github.io/web3-tutorial/alchemy/alchemy4_etherscan.png&#34; alt=&#34;Goerli Etherscan&#34;&gt;&lt;/p&gt;
&lt;p&gt;Amazing! We just deployed a smart contract to an Ethereum testnet. In the next section, we will begin building the user interface for our dapp using React. Let&amp;rsquo;s go!&lt;/p&gt;
</description>
    </item>
    
    
    
    <item>
      <title>web3 tutorial [04/10] - metamask: setting up an ethereum wallet</title>
      <link>https://hackingthemarkets.github.io/posts/calend3-metamask/</link>
      <pubDate>Sat, 20 Feb 2021 08:31:29 -0800</pubDate>
      
      <guid>https://hackingthemarkets.github.io/posts/calend3-metamask/</guid>
      <description>&lt;br /&gt;

&lt;div style=&#34;position: relative; padding-bottom: 56.25%; height: 0; overflow: hidden;&#34;&gt;
  &lt;iframe src=&#34;https://www.youtube.com/embed/odD29qGrdtQ&#34; style=&#34;position: absolute; top: 0; left: 0; width: 100%; height: 100%; border:0;&#34; allowfullscreen title=&#34;YouTube Video&#34;&gt;&lt;/iframe&gt;
&lt;/div&gt;

&lt;aside id=&#34;toc&#34;&gt;
    &lt;h4&gt;Table of Contents&lt;/h4&gt;
    &lt;nav id=&#34;TableOfContents&#34;&gt;
  &lt;ul&gt;
    &lt;li&gt;&lt;a href=&#34;#what-is-metamask&#34;&gt;What is MetaMask&lt;/a&gt;&lt;/li&gt;
    &lt;li&gt;&lt;a href=&#34;#set-up-metamask&#34;&gt;Set Up Metamask&lt;/a&gt;
      &lt;ul&gt;
        &lt;li&gt;&lt;a href=&#34;#download-and-install-the-extension&#34;&gt;Download and Install the Extension&lt;/a&gt;&lt;/li&gt;
        &lt;li&gt;&lt;a href=&#34;#create-a-new-wallet&#34;&gt;Create a New Wallet&lt;/a&gt;&lt;/li&gt;
        &lt;li&gt;&lt;a href=&#34;#recovery-phrase&#34;&gt;Recovery Phrase&lt;/a&gt;&lt;/li&gt;
      &lt;/ul&gt;
    &lt;/li&gt;
    &lt;li&gt;&lt;a href=&#34;#connect-to-a-dapp&#34;&gt;Connect to a Dapp&lt;/a&gt;&lt;/li&gt;
    &lt;li&gt;&lt;a href=&#34;#ethereum-testnets&#34;&gt;Ethereum Testnets&lt;/a&gt;
      &lt;ul&gt;
        &lt;li&gt;&lt;a href=&#34;#test-ether&#34;&gt;Test Ether&lt;/a&gt;&lt;/li&gt;
      &lt;/ul&gt;
    &lt;/li&gt;
    &lt;li&gt;&lt;a href=&#34;#next-steps&#34;&gt;Next steps&lt;/a&gt;&lt;/li&gt;
  &lt;/ul&gt;
&lt;/nav&gt;
&lt;/aside&gt;

&lt;h1 id=&#34;what-is-metamask&#34;&gt;What is MetaMask&lt;/h1&gt;
&lt;p&gt;Metamask is the the most popular Ethereum wallet with tens of millions of active users. It allows users to interact with Decentralized Finance (DeFi) dapps like Uniswap and Aave as well as NFT marketplaces like OpenSea or LooksRare.&lt;/p&gt;
&lt;p&gt;It is also preferred by dapp developers since it allows you to easily create test accounts and connect to Ethereum testnets. We will be using this functionality extensively to test our web3 dapp during development.&lt;/p&gt;
&lt;p&gt;MetaMask is a &lt;strong&gt;self custody&lt;/strong&gt; wallet. This means that &lt;strong&gt;you own your keys&lt;/strong&gt; and it is your responsiblity to protect them.&lt;/p&gt;
&lt;h1 id=&#34;set-up-metamask&#34;&gt;Set Up Metamask&lt;/h1&gt;
&lt;h2 id=&#34;download-and-install-the-extension&#34;&gt;Download and Install the Extension&lt;/h2&gt;
&lt;p&gt;Metamask is distributed as a browser extension. To get started, go to the MetaMask homepage and download and install the extension. We will be using the Chrome extension in this tutorial.&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://hackingthemarkets.github.io/web3-tutorial/metamask/metamask1_download.png&#34; alt=&#34;Download Metamask&#34;&gt;&lt;/p&gt;
&lt;p&gt;Once we have installed the extension, it is helpful to pin the extension in Chrome so that it is easily accessible.&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://hackingthemarkets.github.io/web3-tutorial/metamask/metamask2_pin.png&#34; alt=&#34;Pin Metamask Extension&#34;&gt;&lt;/p&gt;
&lt;h2 id=&#34;create-a-new-wallet&#34;&gt;Create a New Wallet&lt;/h2&gt;
&lt;p&gt;Once the extension is installed, click Get Started. MetaMask will walk you through the process of importing an existing wallet or creating a new wallet. We will create a new Wallet for this tutorial.&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://hackingthemarkets.github.io/web3-tutorial/metamask/metamask3_new.png&#34; alt=&#34;Create New&#34;&gt;&lt;/p&gt;
&lt;h2 id=&#34;recovery-phrase&#34;&gt;Recovery Phrase&lt;/h2&gt;
&lt;p&gt;MetaMask will prompt you to create a password and will generate a Secret Recovery Phrase. This 12 word phrase allows you to recover your private key. This means that anyone who has your seed phrase can access your wallet and all of your assets. &lt;strong&gt;Write this down and never give it to anyone&lt;/strong&gt;.&lt;/p&gt;
&lt;img style=&#34;width: 400px&#34; src=&#34;https://hackingthemarkets.github.io/web3-tutorial/metamask/metamask4_password.png&#34; /&gt;
&lt;p&gt;&lt;img src=&#34;https://hackingthemarkets.github.io/web3-tutorial/metamask/metamask5_seedphrase.png&#34; alt=&#34;Write Down Seedphrase&#34;&gt;&lt;/p&gt;
&lt;h1 id=&#34;connect-to-a-dapp&#34;&gt;Connect to a Dapp&lt;/h1&gt;
&lt;p&gt;Once your wallet is set up, you can give it a quick test by connecting to a popular dapp like &lt;a href=&#34;https://app.uniswap.org&#34;&gt;Uniswap&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://hackingthemarkets.github.io/web3-tutorial/metamask/metamask6_connect.png&#34; alt=&#34;Connect Wallet&#34;&gt;&lt;/p&gt;
&lt;p&gt;When you click Connect Wallet, MetaMask should prompt you to choose an account. We will write the code for a Connect Wallet button when we build the user interface for our app.&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://hackingthemarkets.github.io/web3-tutorial/metamask/metamask7_account.png&#34; alt=&#34;Choose Account&#34;&gt;&lt;/p&gt;
&lt;h1 id=&#34;ethereum-testnets&#34;&gt;Ethereum Testnets&lt;/h1&gt;
&lt;p&gt;MetaMask allows you to connect your wallet to Ethereum testnets like Rinkeby, Ropsten, Kovan, and Goerli. This is important because we want to test our application on a testnet before deploying to Ethereum mainnet. To enable test networks, go to Settings -&amp;gt; Advanced in MetaMask and flip the switch under Show test networks:&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://hackingthemarkets.github.io/web3-tutorial/metamask/metamask9b_enabletest.png&#34; alt=&#34;Copy Address&#34;&gt;&lt;/p&gt;
&lt;p&gt;Then click the dropdown where it says Ethereum Mainnet. Click show test networks and select the Goerli Test Network.&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://hackingthemarkets.github.io/web3-tutorial/metamask/metamask9a_showtest.png&#34; alt=&#34;Copy Address&#34;&gt;
&lt;img src=&#34;https://hackingthemarkets.github.io/web3-tutorial/metamask/metamask9c_goerli.png&#34; alt=&#34;Copy Address&#34;&gt;&lt;/p&gt;
&lt;h2 id=&#34;test-ether&#34;&gt;Test Ether&lt;/h2&gt;
&lt;p&gt;We don&amp;rsquo;t want to exchange our hard earned fiat money for Ether just to test our application. We can obtain Testnet Ether from a faucet. Since we are using the the Goerli Testnet, we can use the &lt;a href=&#34;https://faucet.goerli.mudit.blog/&#34;&gt;Goerli Faucet&lt;/a&gt; to request some funds. Using a Twitter account, tweet your Ethereum address and paste the link into the textbox.&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://hackingthemarkets.github.io/web3-tutorial/metamask/metamask10_tweet.png&#34; alt=&#34;Tweet Ethereum Address&#34;&gt;&lt;/p&gt;
&lt;p&gt;Then select an amount of Ether to receive:&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://hackingthemarkets.github.io/web3-tutorial/metamask/metamask11_faucet.png&#34; alt=&#34;Copy Address&#34;&gt;&lt;/p&gt;
&lt;p&gt;The Ether should arrive in your wallet shortly:&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://hackingthemarkets.github.io/web3-tutorial/metamask/metamask12_eth.png&#34; alt=&#34;Copy Address&#34;&gt;&lt;/p&gt;
&lt;h1 id=&#34;next-steps&#34;&gt;Next steps&lt;/h1&gt;
&lt;p&gt;Now that we have our wallet set up, we are ready for the next section! In part 5, we will deploy our smart contract to the Goerli Testnet using Alchemy.&lt;/p&gt;
</description>
    </item>
    
    
    
    <item>
      <title>web3 tutorial [03/10] - solidity: minutely rate smart contract</title>
      <link>https://hackingthemarkets.github.io/posts/calend3-solidity/</link>
      <pubDate>Fri, 19 Feb 2021 11:31:29 -0800</pubDate>
      
      <guid>https://hackingthemarkets.github.io/posts/calend3-solidity/</guid>
      <description>&lt;br /&gt;

&lt;div style=&#34;position: relative; padding-bottom: 56.25%; height: 0; overflow: hidden;&#34;&gt;
  &lt;iframe src=&#34;https://www.youtube.com/embed/ovFRRlw6sKI&#34; style=&#34;position: absolute; top: 0; left: 0; width: 100%; height: 100%; border:0;&#34; allowfullscreen title=&#34;YouTube Video&#34;&gt;&lt;/iframe&gt;
&lt;/div&gt;

&lt;h1 id=&#34;what-is-solidity&#34;&gt;What is Solidity?&lt;/h1&gt;
&lt;p&gt;&lt;a href=&#34;https://soliditylang.org/&#34;&gt;Solidity&lt;/a&gt; is a programming language for writing smart contracts on &lt;a href=&#34;https://ethereum.org&#34;&gt;Ethereum&lt;/a&gt;. It has syntax similar to JavaScript by design. If you are a web developer, Solidity programs will look vaguely familiar.&lt;/p&gt;
&lt;p&gt;Unlike JavaScript, Solidity is statically typed. This means you must specify variable types so that they are known at compile time. Statically typed languages are a bit more verbose and typically take longer to plan, write, and compile. However, this upfront time investment reduces bugs in production, which is especially important when dealing with money.&lt;/p&gt;
&lt;aside id=&#34;toc&#34;&gt;
    &lt;h4&gt;Table of Contents&lt;/h4&gt;
    &lt;nav id=&#34;TableOfContents&#34;&gt;
  &lt;ul&gt;
    &lt;li&gt;&lt;a href=&#34;#what-is-solidity&#34;&gt;What is Solidity?&lt;/a&gt;&lt;/li&gt;
    &lt;li&gt;&lt;a href=&#34;#our-first-contract&#34;&gt;Our First Contract&lt;/a&gt;
      &lt;ul&gt;
        &lt;li&gt;&lt;a href=&#34;#what-is-a-contract&#34;&gt;What is a contract?&lt;/a&gt;&lt;/li&gt;
        &lt;li&gt;&lt;a href=&#34;#license&#34;&gt;License&lt;/a&gt;&lt;/li&gt;
        &lt;li&gt;&lt;a href=&#34;#pragma&#34;&gt;Pragma&lt;/a&gt;&lt;/li&gt;
      &lt;/ul&gt;
    &lt;/li&gt;
    &lt;li&gt;&lt;a href=&#34;#setting-a-rate&#34;&gt;Setting a Rate&lt;/a&gt;
      &lt;ul&gt;
        &lt;li&gt;&lt;a href=&#34;#variables-and-functions&#34;&gt;Variables and Functions&lt;/a&gt;&lt;/li&gt;
        &lt;li&gt;&lt;a href=&#34;#public-and-private&#34;&gt;Public and Private&lt;/a&gt;&lt;/li&gt;
        &lt;li&gt;&lt;a href=&#34;#return-values&#34;&gt;Return Values&lt;/a&gt;&lt;/li&gt;
        &lt;li&gt;&lt;a href=&#34;#view-functions&#34;&gt;View Functions&lt;/a&gt;&lt;/li&gt;
      &lt;/ul&gt;
    &lt;/li&gt;
    &lt;li&gt;&lt;a href=&#34;#contract-ownership&#34;&gt;Contract Ownership&lt;/a&gt;
      &lt;ul&gt;
        &lt;li&gt;&lt;a href=&#34;#accounts&#34;&gt;Accounts&lt;/a&gt;&lt;/li&gt;
        &lt;li&gt;&lt;a href=&#34;#addresses&#34;&gt;Addresses&lt;/a&gt;&lt;/li&gt;
        &lt;li&gt;&lt;a href=&#34;#constructors&#34;&gt;Constructors&lt;/a&gt;&lt;/li&gt;
        &lt;li&gt;&lt;a href=&#34;#permissions-and-require&#34;&gt;Permissions and require()&lt;/a&gt;&lt;/li&gt;
      &lt;/ul&gt;
    &lt;/li&gt;
    &lt;li&gt;&lt;a href=&#34;#writing-a-hardhat-test-script&#34;&gt;Writing a Hardhat Test Script&lt;/a&gt;
      &lt;ul&gt;
        &lt;li&gt;&lt;a href=&#34;#test-setting-the-rate&#34;&gt;Test setting the rate&lt;/a&gt;&lt;/li&gt;
        &lt;li&gt;&lt;a href=&#34;#test-permissions&#34;&gt;Test permissions&lt;/a&gt;&lt;/li&gt;
      &lt;/ul&gt;
    &lt;/li&gt;
  &lt;/ul&gt;
&lt;/nav&gt;
&lt;/aside&gt;

&lt;h1 id=&#34;our-first-contract&#34;&gt;Our First Contract&lt;/h1&gt;
&lt;p&gt;Let&amp;rsquo;s write our own smart contract. We are building Calend3, a web3 calendar dapp. So let&amp;rsquo;s create a new file called &lt;strong&gt;Calend3.sol&lt;/strong&gt; in the &lt;strong&gt;contracts/&lt;/strong&gt; directory of our project and add the following code:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-solidity&#34; data-lang=&#34;solidity&#34;&gt;&lt;span class=&#34;c1&#34;&gt;// SPDX-License-Identifier: MIT
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;&lt;span class=&#34;k&#34;&gt;pragma solidity&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;^&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;0&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;8&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;0&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;

&lt;span class=&#34;kd&#34;&gt;contract&lt;/span&gt; &lt;span class=&#34;nc&#34;&gt;Calend3&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
    &lt;span class=&#34;c1&#34;&gt;// million dollar dapp idea goes here
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;Now let&amp;rsquo;s compile the code with hardhat. Open a terminal window. Make sure you are in the top level directory of your project. Enter the following command:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;npx hardhat compile
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;You should see the following output:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;Compiling &lt;span class=&#34;m&#34;&gt;1&lt;/span&gt; file with 0.8.4
Solidity compilation finished successfully
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;Congratulations! You&amp;rsquo;ve just written and compiled a smart contract. You smart. This program doesn&amp;rsquo;t do much yet, but the journey of a thousand miles begins with a single step. Let&amp;rsquo;s talk about this program line by line.&lt;/p&gt;
&lt;h2 id=&#34;what-is-a-contract&#34;&gt;What is a contract?&lt;/h2&gt;
&lt;p&gt;If you&amp;rsquo;ve programmed in Java or Python, you have probably used a &lt;em&gt;&lt;strong&gt;class&lt;/strong&gt;&lt;/em&gt;. In Solidity, we use the word &lt;em&gt;&lt;strong&gt;contract&lt;/strong&gt;&lt;/em&gt;. A class is just a collection of &lt;strong&gt;state&lt;/strong&gt; and &lt;strong&gt;behavior&lt;/strong&gt;. In other words, it is a collection of &lt;strong&gt;data&lt;/strong&gt; and &lt;strong&gt;functions&lt;/strong&gt; that operate on that data. Persistent data is stored in state variables. Functions can retrieve and modify these variables.&lt;/p&gt;
&lt;p&gt;In one of my previous tutorials, I mentioned that I think of a smart contract like a stored procedure in a relational database. In a database like PostgreSQL or MySQL, you can write database logic in stored procedures. The code for a stored procedure is actually stored in the database. Stored procedures can be used to centralize business logic and enforce data integrity.&lt;/p&gt;
&lt;p&gt;Likewise, the code for smart contracts is stored on the blockchain and enforce changes of state to the blockchain.&lt;/p&gt;
&lt;h2 id=&#34;license&#34;&gt;License&lt;/h2&gt;
&lt;p&gt;&lt;strong&gt;SPDX&lt;/strong&gt;, or &lt;strong&gt;Software Package Data Exchange&lt;/strong&gt;, is an open standard for specifying software licenses. The official website has a &lt;a href=&#34;https://spdx.dev/ids/&#34;&gt;list of licenses&lt;/a&gt; you can use in your projects. I typically use the MIT license since it is familiar to me and any code I write for a tutorial is free to use and modify.&lt;/p&gt;
&lt;h2 id=&#34;pragma&#34;&gt;Pragma&lt;/h2&gt;
&lt;p&gt;We use the pragma keyword to control the compilation process. This prevents compiling with incompatible Solidity versions. The line &lt;code&gt;pragma solidity ^0.8.0;&lt;/code&gt; means that this program will not compile with versions earlier that 0.8. It also specifies that the code will compile in later versions of Solidity as long as there are no breaking changes. New versions of Solidity could behave differently. For example, a function could be deprecated or best practices could change.&lt;/p&gt;
&lt;h1 id=&#34;setting-a-rate&#34;&gt;Setting a Rate&lt;/h1&gt;
&lt;p&gt;Okay, our contract doesn&amp;rsquo;t do anything yet. Let&amp;rsquo;s change that by adding some variables and functions. We will intentionally (and unintentionally) make some mistakes along the way so that we learn what can go wrong.&lt;/p&gt;
&lt;h2 id=&#34;variables-and-functions&#34;&gt;Variables and Functions&lt;/h2&gt;
&lt;p&gt;Since we are making an appointment scheduler that allows the owner to charge money, let&amp;rsquo;s allow the owner of the calendar to set their rate. We&amp;rsquo;ll store the rate as an &lt;strong&gt;unsigned integer&lt;/strong&gt;.&lt;/p&gt;
&lt;p&gt;An unsigned integer is specified using &lt;strong&gt;uint&lt;/strong&gt; and means that this integer will always be positive. We expect people to charge a non-negative rate. We&amp;rsquo;ll also define some functions to get and set this rate. Let&amp;rsquo;s try to compile the code below:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-solidity&#34; data-lang=&#34;solidity&#34;&gt;&lt;span class=&#34;c1&#34;&gt;// SPDX-License-Identifier: MIT
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;&lt;span class=&#34;k&#34;&gt;pragma solidity&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;^&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;0&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;8&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;0&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;

&lt;span class=&#34;kd&#34;&gt;contract&lt;/span&gt; &lt;span class=&#34;nc&#34;&gt;Calend3&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
    &lt;span class=&#34;kt&#34;&gt;uint&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;rate&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;

    &lt;span class=&#34;kd&#34;&gt;function&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;getRate&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;()&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
        &lt;span class=&#34;k&#34;&gt;return&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;rate&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
    &lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
    
    &lt;span class=&#34;kd&#34;&gt;function&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;setRate&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;_rate&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
        &lt;span class=&#34;n&#34;&gt;rate&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;_rate&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
    &lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
&lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;➜  npx hardhat compile
Compiling &lt;span class=&#34;m&#34;&gt;1&lt;/span&gt; file with 0.8.4
SyntaxError: No visibility specified. Did you intend to add &lt;span class=&#34;s2&#34;&gt;&amp;#34;public&amp;#34;&lt;/span&gt;?
 --&amp;gt; contracts/Calend3.sol:7:5:
  &lt;span class=&#34;p&#34;&gt;|&lt;/span&gt;
&lt;span class=&#34;m&#34;&gt;7&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;|&lt;/span&gt;     &lt;span class=&#34;k&#34;&gt;function&lt;/span&gt; getRate&lt;span class=&#34;o&#34;&gt;()&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
  &lt;span class=&#34;p&#34;&gt;|&lt;/span&gt;     ^ &lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;Relevant &lt;span class=&#34;nb&#34;&gt;source&lt;/span&gt; part starts here and spans across multiple lines&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt;.


SyntaxError: No visibility specified. Did you intend to add &lt;span class=&#34;s2&#34;&gt;&amp;#34;public&amp;#34;&lt;/span&gt;?
  --&amp;gt; contracts/Calend3.sol:11:5:
   &lt;span class=&#34;p&#34;&gt;|&lt;/span&gt;
&lt;span class=&#34;m&#34;&gt;11&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;|&lt;/span&gt;     &lt;span class=&#34;k&#34;&gt;function&lt;/span&gt; setRate&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;_rate&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
   &lt;span class=&#34;p&#34;&gt;|&lt;/span&gt;     ^ &lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;Relevant &lt;span class=&#34;nb&#34;&gt;source&lt;/span&gt; part starts here and spans across multiple lines&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt;.


DeclarationError: Identifier not found or not unique.
  --&amp;gt; contracts/Calend3.sol:11:28:
   &lt;span class=&#34;p&#34;&gt;|&lt;/span&gt;
&lt;span class=&#34;m&#34;&gt;11&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;|&lt;/span&gt;     &lt;span class=&#34;k&#34;&gt;function&lt;/span&gt; setRate&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;_rate&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
   &lt;span class=&#34;p&#34;&gt;|&lt;/span&gt;                      ^^^^^^^^^^^


Error HH600: Compilation failed
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;Oh my god. Lots of errors. Massive fail. That&amp;rsquo;s okay. We get knocked down, but we get up again. Let&amp;rsquo;s fix these errors one by one and talk about them along the way.&lt;/p&gt;
&lt;h2 id=&#34;public-and-private&#34;&gt;Public and Private&lt;/h2&gt;
&lt;p&gt;The first error we encountered was &lt;code&gt;SyntaxError: No visibility specified. Did you intend to add &amp;quot;public&amp;quot;?&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;This error occurred because we must specify whether each variable or function has &lt;strong&gt;public&lt;/strong&gt; or &lt;strong&gt;private&lt;/strong&gt; access. A &lt;strong&gt;public&lt;/strong&gt; variable or function can be accessed &lt;strong&gt;from outside&lt;/strong&gt; of the smart contract. A &lt;strong&gt;private&lt;/strong&gt; variable or function can only be accessed or called &lt;strong&gt;from within&lt;/strong&gt; the same smart contract.&lt;/p&gt;
&lt;p&gt;Since we ultimately want to expose the rate to a web interface and let the calendar owner set it, we should make the &lt;code&gt;getRate()&lt;/code&gt; and &lt;code&gt;setRate()&lt;/code&gt; functions public.&lt;/p&gt;
&lt;p&gt;The second error we encountered was &lt;code&gt;DeclarationError: Identifier not found or not unique.&lt;/code&gt;. This is because we didn&amp;rsquo;t specify the data type in the function signature. To fix this, we just specify that _rate is an unsigned integer by adding &lt;code&gt;uint&lt;/code&gt; in front.&lt;/p&gt;
&lt;p&gt;Let&amp;rsquo;s update our code to fix these errors and then try to compile again:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-solidity&#34; data-lang=&#34;solidity&#34;&gt;&lt;span class=&#34;c1&#34;&gt;// SPDX-License-Identifier: MIT
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;&lt;span class=&#34;k&#34;&gt;pragma solidity&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;^&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;0&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;8&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;0&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;

&lt;span class=&#34;kd&#34;&gt;contract&lt;/span&gt; &lt;span class=&#34;nc&#34;&gt;Calend3&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
    &lt;span class=&#34;kt&#34;&gt;uint&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;rate&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;

    &lt;span class=&#34;kd&#34;&gt;function&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;getRate&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;()&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;public&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
        &lt;span class=&#34;k&#34;&gt;return&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;rate&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
    &lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
    
    &lt;span class=&#34;kd&#34;&gt;function&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;setRate&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;kt&#34;&gt;uint&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;_rate&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;public&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
        &lt;span class=&#34;n&#34;&gt;rate&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;_rate&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
    &lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
&lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-solidity&#34; data-lang=&#34;solidity&#34;&gt;&lt;span class=&#34;n&#34;&gt;calend3&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;npx&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;hardhat&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;compile&lt;/span&gt;
&lt;span class=&#34;n&#34;&gt;Compiling&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;1&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;file&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;with&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;0&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;8&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;4&lt;/span&gt;
&lt;span class=&#34;n&#34;&gt;TypeError&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;Different&lt;/span&gt; &lt;span class=&#34;nb&#34;&gt;number&lt;/span&gt; &lt;span class=&#34;kr&#34;&gt;of&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;arguments&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;in&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;return&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;statement&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;than&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;in&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;returns&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;declaration&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;
 &lt;span class=&#34;o&#34;&gt;--&amp;gt;&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;contracts&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;/&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;Calend3&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;sol&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;8&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;9&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;:&lt;/span&gt;
  &lt;span class=&#34;o&#34;&gt;|&lt;/span&gt;
&lt;span class=&#34;mi&#34;&gt;8&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;|&lt;/span&gt;         &lt;span class=&#34;k&#34;&gt;return&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;rate&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
  &lt;span class=&#34;o&#34;&gt;|&lt;/span&gt;         &lt;span class=&#34;o&#34;&gt;^^^^^^^^^^^^&lt;/span&gt;
&lt;span class=&#34;n&#34;&gt;Error&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;HH600&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;Compilation&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;failed&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;Oh snap! Failed again. Programming is hard.&lt;/p&gt;
&lt;h2 id=&#34;return-values&#34;&gt;Return Values&lt;/h2&gt;
&lt;p&gt;We got past the first set of errors, but now we have a new problem: &lt;code&gt;TypeError: Different number of arguments in return statement than in returns declaration.&lt;/code&gt;. In Solidity, not only do we need to specify the data type for our inputs, we also need to specify the data type for the values we return. I told you statically typed languages are more verbose and take longer to write! Let&amp;rsquo;s add &lt;code&gt;returns (uint)&lt;/code&gt; to our program and try again:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-solidity&#34; data-lang=&#34;solidity&#34;&gt;&lt;span class=&#34;c1&#34;&gt;// SPDX-License-Identifier: MIT
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;&lt;span class=&#34;k&#34;&gt;pragma solidity&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;^&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;0&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;8&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;0&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;

&lt;span class=&#34;kd&#34;&gt;contract&lt;/span&gt; &lt;span class=&#34;nc&#34;&gt;Calend3&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
    &lt;span class=&#34;kt&#34;&gt;uint&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;rate&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;

    &lt;span class=&#34;kd&#34;&gt;function&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;getRate&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;()&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;public&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;returns&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;kt&#34;&gt;uint&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
        &lt;span class=&#34;k&#34;&gt;return&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;rate&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
    &lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
    
    &lt;span class=&#34;kd&#34;&gt;function&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;setRate&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;kt&#34;&gt;uint&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;_rate&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;public&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
        &lt;span class=&#34;n&#34;&gt;rate&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;_rate&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
    &lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
&lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;➜ npx hardhat compile
Compiling &lt;span class=&#34;m&#34;&gt;1&lt;/span&gt; file with 0.8.4
Warning: Function state mutability can be restricted to view
 --&amp;gt; contracts/Calend3.sol:7:5:
  &lt;span class=&#34;p&#34;&gt;|&lt;/span&gt;
&lt;span class=&#34;m&#34;&gt;7&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;|&lt;/span&gt;     &lt;span class=&#34;k&#34;&gt;function&lt;/span&gt; getRate&lt;span class=&#34;o&#34;&gt;()&lt;/span&gt; public returns &lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;uint&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
  &lt;span class=&#34;p&#34;&gt;|&lt;/span&gt;     ^ &lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;Relevant &lt;span class=&#34;nb&#34;&gt;source&lt;/span&gt; part starts here and spans across multiple lines&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt;.

Solidity compilation finished successfully
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;Not again! At least this one isn&amp;rsquo;t an error. Notice that we received a warning, but the compilation finished successfully. While we can technically ignore warnings in our programs and even in real life, it is probably best to listen and adjust our behavior.&lt;/p&gt;
&lt;h2 id=&#34;view-functions&#34;&gt;View Functions&lt;/h2&gt;
&lt;p&gt;A function can be specified as a &lt;strong&gt;view&lt;/strong&gt; to ensure it doesn&amp;rsquo;t modify any state. Since our &lt;code&gt;getRate()&lt;/code&gt; function does not modify any state,  we can specify that is is a view function.&lt;/p&gt;
&lt;p&gt;Why would we want to do this? What is the benefit? Well, let&amp;rsquo;s say we are working on a big team of engineers and a new engineer works on this codebase. For some reason they decide to add some additional logic to the &lt;code&gt;getRate()&lt;/code&gt; function that doubles the rate set by the user, and they try to compile the program.&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-solidity&#34; data-lang=&#34;solidity&#34;&gt;&lt;span class=&#34;c1&#34;&gt;// SPDX-License-Identifier: MIT
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;&lt;span class=&#34;k&#34;&gt;pragma solidity&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;^&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;0&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;8&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;0&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;

&lt;span class=&#34;kd&#34;&gt;contract&lt;/span&gt; &lt;span class=&#34;nc&#34;&gt;Calend3&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
    &lt;span class=&#34;kt&#34;&gt;uint&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;rate&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;

    &lt;span class=&#34;kd&#34;&gt;function&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;getRate&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;()&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;public&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;view&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;returns&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;kt&#34;&gt;uint&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
        &lt;span class=&#34;n&#34;&gt;rate&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;rate&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;*&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;2&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
        &lt;span class=&#34;k&#34;&gt;return&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;rate&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
    &lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
    
    &lt;span class=&#34;kd&#34;&gt;function&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;setRate&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;kt&#34;&gt;uint&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;_rate&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;public&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
        &lt;span class=&#34;n&#34;&gt;rate&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;_rate&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
    &lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
&lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;➜  calend3 npx hardhat compile
Compiling &lt;span class=&#34;m&#34;&gt;1&lt;/span&gt; file with 0.8.4
TypeError: Function declared as view, but this expression &lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;potentially&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt; modifies the state and thus requires non-payable &lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;the default&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt; or payable.
 --&amp;gt; contracts/Calend3.sol:8:9:
  &lt;span class=&#34;p&#34;&gt;|&lt;/span&gt;
&lt;span class=&#34;m&#34;&gt;8&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;|&lt;/span&gt;         &lt;span class=&#34;nv&#34;&gt;rate&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; rate * 2&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
  &lt;span class=&#34;p&#34;&gt;|&lt;/span&gt;         ^^^^

Error HH600: Compilation failed
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;They will get a compilation error indicating that the state can not be modified in a view function. When writing smart contracts, there is a cost with modifying state: gas. So we want to specify our intent with the &lt;strong&gt;view&lt;/strong&gt; keyword here. This code compiles successfully without warnings:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-solidity&#34; data-lang=&#34;solidity&#34;&gt;&lt;span class=&#34;c1&#34;&gt;// SPDX-License-Identifier: MIT
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;&lt;span class=&#34;k&#34;&gt;pragma solidity&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;^&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;0&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;8&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;0&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;

&lt;span class=&#34;kd&#34;&gt;contract&lt;/span&gt; &lt;span class=&#34;nc&#34;&gt;Calend3&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
    &lt;span class=&#34;kt&#34;&gt;uint&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;rate&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;

    &lt;span class=&#34;kd&#34;&gt;function&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;getRate&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;()&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;public&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;view&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;returns&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;kt&#34;&gt;uint&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
         &lt;span class=&#34;k&#34;&gt;return&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;rate&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
    &lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
    
    &lt;span class=&#34;kd&#34;&gt;function&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;setRate&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;kt&#34;&gt;uint&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;_rate&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;public&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
        &lt;span class=&#34;n&#34;&gt;rate&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;_rate&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
    &lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
&lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h1 id=&#34;contract-ownership&#34;&gt;Contract Ownership&lt;/h1&gt;
&lt;p&gt;So far we have created a basic smart contract and have written some functions to get and set a rate. Soon we will add functions for managing appointments. But whose appointments? Whose rate are we setting? Can anyone in the world set the rate? Probably not. Only the owner should have permission to configure the calendar.&lt;/p&gt;
&lt;h2 id=&#34;accounts&#34;&gt;Accounts&lt;/h2&gt;
&lt;p&gt;In order to control access to the calendar, we need to specify who &lt;strong&gt;owns&lt;/strong&gt; it. It should probably be owned by a particular Ethereum account. What is an Ethereum account?&lt;/p&gt;
&lt;p&gt;Straight from the &lt;a href=&#34;https://ethereum.org/en/developers/docs/accounts/&#34;&gt;Ethereum documentation&lt;/a&gt;:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;An Ethereum account is an entity with an ether &lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;ETH&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt; balance that can send transactions on Ethereum. 
Accounts can be user-controlled or deployed as smart contracts.

Ethereum has two account types:

Externally-owned – controlled by anyone with the private keys
Contract – a smart contract deployed to the network, controlled by code.

Both account types have the ability to:

Receive, hold and send ETH and tokens
Interact with deployed smart contracts
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;So your Ethereum wallet is an interface for interacting with a keypair for a user-controlled account.&lt;/p&gt;
&lt;p&gt;Also a smart contract is a type of account. When it is deployed, it has its own Ethereum address and is able to receive and hold ETH.&lt;/p&gt;
&lt;h2 id=&#34;addresses&#34;&gt;Addresses&lt;/h2&gt;
&lt;p&gt;Accounts have an address. Since we frequently use these addresses when writing smart contracts, Solidity has a data type called &lt;em&gt;&lt;strong&gt;address&lt;/strong&gt;&lt;/em&gt;. Let&amp;rsquo;s define a variable of type &lt;strong&gt;address&lt;/strong&gt; named &lt;strong&gt;owner&lt;/strong&gt;, and initialize owner with an Ethereum address.&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-solidity&#34; data-lang=&#34;solidity&#34;&gt;&lt;span class=&#34;c1&#34;&gt;// SPDX-License-Identifier: MIT
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;&lt;span class=&#34;k&#34;&gt;pragma solidity&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;^&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;0&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;8&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;0&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;

&lt;span class=&#34;kd&#34;&gt;contract&lt;/span&gt; &lt;span class=&#34;nc&#34;&gt;Calend3&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
    &lt;span class=&#34;kt&#34;&gt;uint&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;rate&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
    &lt;span class=&#34;kt&#34;&gt;address&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;owner&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
    
    &lt;span class=&#34;kd&#34;&gt;constructor&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;()&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
        &lt;span class=&#34;n&#34;&gt;owner&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;nb&#34;&gt;msg&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nb&#34;&gt;sender&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
    &lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;

    &lt;span class=&#34;kd&#34;&gt;function&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;getRate&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;()&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;public&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;view&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;returns&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;kt&#34;&gt;uint&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
         &lt;span class=&#34;k&#34;&gt;return&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;rate&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
    &lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;   
    
    &lt;span class=&#34;kd&#34;&gt;function&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;setRate&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;kt&#34;&gt;uint&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;_rate&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;public&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
        &lt;span class=&#34;n&#34;&gt;rate&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;_rate&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
    &lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
&lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h2 id=&#34;constructors&#34;&gt;Constructors&lt;/h2&gt;
&lt;p&gt;You&amp;rsquo;ll notice we added a special function called the &lt;em&gt;&lt;strong&gt;constructor&lt;/strong&gt;&lt;/em&gt;. The constructor is called only once &amp;ndash; when the contract is deployed. The constructor isn&amp;rsquo;t called again after that unless it is redeployed.&lt;/p&gt;
&lt;p&gt;You&amp;rsquo;ll also notice we set the owner address equal to msg.sender. What is msg.sender? &lt;code&gt;msg&lt;/code&gt; is a globally defined variable and the sender attribute contains the address that called the function. Since we set this value in the constructor, and the constructor is only called on deployment, the msg.sender will be the Ethereum address that deployed the contract. Since whoever deploys the contract owns the Calendar, we will be able to verify that any configuration functions are only being called by the contract owner.&lt;/p&gt;
&lt;h2 id=&#34;permissions-and-require&#34;&gt;Permissions and require()&lt;/h2&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-solidity&#34; data-lang=&#34;solidity&#34;&gt;&lt;span class=&#34;c1&#34;&gt;// SPDX-License-Identifier: MIT
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;&lt;span class=&#34;k&#34;&gt;pragma solidity&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;^&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;0&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;8&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;0&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;

&lt;span class=&#34;kd&#34;&gt;contract&lt;/span&gt; &lt;span class=&#34;nc&#34;&gt;Calend3&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
    &lt;span class=&#34;kt&#34;&gt;uint&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;rate&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
    &lt;span class=&#34;kt&#34;&gt;address&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;public&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;owner&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
    
    &lt;span class=&#34;kd&#34;&gt;constructor&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;()&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
        &lt;span class=&#34;n&#34;&gt;owner&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;nb&#34;&gt;msg&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nb&#34;&gt;sender&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
    &lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;

    &lt;span class=&#34;kd&#34;&gt;function&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;getRate&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;()&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;public&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;view&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;returns&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;kt&#34;&gt;uint&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
         &lt;span class=&#34;k&#34;&gt;return&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;rate&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
    &lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;   
    
    &lt;span class=&#34;kd&#34;&gt;function&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;setRate&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;kt&#34;&gt;uint&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;_rate&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;public&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
        &lt;span class=&#34;nb&#34;&gt;require&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nb&#34;&gt;msg&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nb&#34;&gt;sender&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;==&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;owner&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;s&#34;&gt;&amp;#34;Only the owner can set the rate&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;);&lt;/span&gt;
        &lt;span class=&#34;n&#34;&gt;rate&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;_rate&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
    &lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
&lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h1 id=&#34;writing-a-hardhat-test-script&#34;&gt;Writing a Hardhat Test Script&lt;/h1&gt;
&lt;p&gt;So far we have only used &lt;strong&gt;hardhat compile&lt;/strong&gt; and corrected compilation errors and syntax. But we haven&amp;rsquo;t really tested that our program logic is correct. Hardhat provides functionality for writing tests and logging output. Let&amp;rsquo;s take advantage of this.&lt;/p&gt;
&lt;h2 id=&#34;test-setting-the-rate&#34;&gt;Test setting the rate&lt;/h2&gt;
&lt;p&gt;You should have renamed the &lt;code&gt;sample-script.js&lt;/code&gt; file in your &lt;code&gt;test/&lt;/code&gt; directory to &lt;strong&gt;test.js&lt;/strong&gt;. Let&amp;rsquo;s open this file and make it look like this:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-solidity&#34; data-lang=&#34;solidity&#34;&gt;&lt;span class=&#34;n&#34;&gt;const&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;expect&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;}&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;nb&#34;&gt;require&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;chai&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;);&lt;/span&gt;
&lt;span class=&#34;n&#34;&gt;const&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;ethers&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;}&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;nb&#34;&gt;require&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;hardhat&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;);&lt;/span&gt;

&lt;span class=&#34;n&#34;&gt;describe&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;Calend3&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;kd&#34;&gt;function&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;()&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
  &lt;span class=&#34;n&#34;&gt;it&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;Set rate&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;async&lt;/span&gt; &lt;span class=&#34;kd&#34;&gt;function&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;()&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
    &lt;span class=&#34;n&#34;&gt;const&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;Contract&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;await&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;ethers&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;getContractFactory&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;Calend3&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;);&lt;/span&gt;
    &lt;span class=&#34;n&#34;&gt;const&lt;/span&gt; &lt;span class=&#34;kd&#34;&gt;contract&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;await&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;Contract&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;deploy&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;();&lt;/span&gt;
    &lt;span class=&#34;n&#34;&gt;await&lt;/span&gt; &lt;span class=&#34;kd&#34;&gt;contract&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;deployed&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;();&lt;/span&gt;

    &lt;span class=&#34;n&#34;&gt;const&lt;/span&gt; &lt;span class=&#34;nb&#34;&gt;tx&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;await&lt;/span&gt; &lt;span class=&#34;kd&#34;&gt;contract&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;setRate&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;1000&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;);&lt;/span&gt;

    &lt;span class=&#34;c1&#34;&gt;// wait until the transaction is mined
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;    &lt;span class=&#34;n&#34;&gt;await&lt;/span&gt; &lt;span class=&#34;nb&#34;&gt;tx&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;wait&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;();&lt;/span&gt;

    &lt;span class=&#34;c1&#34;&gt;// verify rate is set correctly
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;    &lt;span class=&#34;n&#34;&gt;expect&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;await&lt;/span&gt; &lt;span class=&#34;kd&#34;&gt;contract&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;getRate&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;()).&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;to&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;equal&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;1000&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;);&lt;/span&gt;
  &lt;span class=&#34;p&#34;&gt;});&lt;/span&gt;
&lt;span class=&#34;p&#34;&gt;});&lt;/span&gt;

&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h2 id=&#34;test-permissions&#34;&gt;Test permissions&lt;/h2&gt;
&lt;p&gt;Let&amp;rsquo;s add one more test to make sure our permissions are correct. We will use the &lt;strong&gt;ethers.getSigners()&lt;/strong&gt; function to get a list of Ethereum account addresses from the hardhat development environment. We will then call setRate() with a different Ethereum address using the &lt;strong&gt;connect()&lt;/strong&gt; function. We &lt;strong&gt;expect&lt;/strong&gt; this to fail with the message &amp;lsquo;Only the owner can set the rate&amp;rsquo;.&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-solidity&#34; data-lang=&#34;solidity&#34;&gt;&lt;span class=&#34;n&#34;&gt;const&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;expect&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;}&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;nb&#34;&gt;require&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;chai&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;);&lt;/span&gt;
&lt;span class=&#34;n&#34;&gt;const&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;ethers&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;}&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;nb&#34;&gt;require&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;hardhat&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;);&lt;/span&gt;

&lt;span class=&#34;n&#34;&gt;describe&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;Calend3&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;kd&#34;&gt;function&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;()&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
  &lt;span class=&#34;n&#34;&gt;it&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;Set rate&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;async&lt;/span&gt; &lt;span class=&#34;kd&#34;&gt;function&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;()&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
    &lt;span class=&#34;n&#34;&gt;const&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;Contract&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;await&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;ethers&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;getContractFactory&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;Calend3&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;);&lt;/span&gt;
    &lt;span class=&#34;n&#34;&gt;const&lt;/span&gt; &lt;span class=&#34;kd&#34;&gt;contract&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;await&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;Contract&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;deploy&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;();&lt;/span&gt;
    &lt;span class=&#34;n&#34;&gt;await&lt;/span&gt; &lt;span class=&#34;kd&#34;&gt;contract&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;deployed&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;();&lt;/span&gt;

    &lt;span class=&#34;n&#34;&gt;const&lt;/span&gt; &lt;span class=&#34;nb&#34;&gt;tx&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;await&lt;/span&gt; &lt;span class=&#34;kd&#34;&gt;contract&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;setRate&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;1000&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;);&lt;/span&gt;

    &lt;span class=&#34;c1&#34;&gt;// wait until the transaction is mined
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;    &lt;span class=&#34;n&#34;&gt;await&lt;/span&gt; &lt;span class=&#34;nb&#34;&gt;tx&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;wait&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;();&lt;/span&gt;

    &lt;span class=&#34;c1&#34;&gt;// verify rate is set correctly
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;    &lt;span class=&#34;n&#34;&gt;expect&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;await&lt;/span&gt; &lt;span class=&#34;kd&#34;&gt;contract&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;getRate&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;()).&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;to&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;equal&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;1000&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;);&lt;/span&gt;

    &lt;span class=&#34;c1&#34;&gt;// get addresses
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;    &lt;span class=&#34;n&#34;&gt;const&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;owner&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;addr1&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;addr2&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;]&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;await&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;ethers&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;getSigners&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;();&lt;/span&gt;

    &lt;span class=&#34;c1&#34;&gt;// call setRate using a different account address
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;    &lt;span class=&#34;c1&#34;&gt;// this should fail since this address is not the owner
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;    &lt;span class=&#34;n&#34;&gt;await&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;expect&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;
      &lt;span class=&#34;kd&#34;&gt;contract&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;connect&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;addr1&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;).&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;setRate&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;500&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
    &lt;span class=&#34;p&#34;&gt;).&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;to&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;be&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;revertedWith&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#39;Only the owner can set the rate&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;);&lt;/span&gt;
  &lt;span class=&#34;p&#34;&gt;});&lt;/span&gt;
&lt;span class=&#34;p&#34;&gt;});&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;</description>
    </item>
    
    
    
    <item>
      <title>web3 tutorial [02/10] - hardhat: ethereum development environment</title>
      <link>https://hackingthemarkets.github.io/posts/calend3-hardhat/</link>
      <pubDate>Fri, 19 Feb 2021 10:31:29 -0800</pubDate>
      
      <guid>https://hackingthemarkets.github.io/posts/calend3-hardhat/</guid>
      <description>&lt;br /&gt;

&lt;div style=&#34;position: relative; padding-bottom: 56.25%; height: 0; overflow: hidden;&#34;&gt;
  &lt;iframe src=&#34;https://www.youtube.com/embed/M8ftcilSNLM&#34; style=&#34;position: absolute; top: 0; left: 0; width: 100%; height: 100%; border:0;&#34; allowfullscreen title=&#34;YouTube Video&#34;&gt;&lt;/iframe&gt;
&lt;/div&gt;

&lt;aside id=&#34;toc&#34;&gt;
    &lt;h4&gt;Table of Contents&lt;/h4&gt;
    &lt;nav id=&#34;TableOfContents&#34;&gt;
  &lt;ul&gt;
    &lt;li&gt;&lt;a href=&#34;#web2-vs-web3-development-environment&#34;&gt;Web2 vs. Web3 development environment&lt;/a&gt;&lt;/li&gt;
    &lt;li&gt;&lt;a href=&#34;#what-is-hardhat&#34;&gt;What is hardhat?&lt;/a&gt;&lt;/li&gt;
    &lt;li&gt;&lt;a href=&#34;#nodejs-and-npm&#34;&gt;Node.js and npm&lt;/a&gt;&lt;/li&gt;
    &lt;li&gt;&lt;a href=&#34;#setting-up-your-project&#34;&gt;Setting up your project&lt;/a&gt;
      &lt;ul&gt;
        &lt;li&gt;&lt;a href=&#34;#installing-hardhat&#34;&gt;Installing hardhat&lt;/a&gt;&lt;/li&gt;
      &lt;/ul&gt;
    &lt;/li&gt;
    &lt;li&gt;&lt;a href=&#34;#hardhat-cli&#34;&gt;Hardhat CLI&lt;/a&gt;
      &lt;ul&gt;
        &lt;li&gt;&lt;a href=&#34;#tasks&#34;&gt;Tasks&lt;/a&gt;&lt;/li&gt;
      &lt;/ul&gt;
    &lt;/li&gt;
    &lt;li&gt;&lt;a href=&#34;#hardhat-hackathon-boilerplate&#34;&gt;Hardhat Hackathon Boilerplate&lt;/a&gt;&lt;/li&gt;
    &lt;li&gt;&lt;a href=&#34;#changing-some-defaults&#34;&gt;Changing Some Defaults&lt;/a&gt;&lt;/li&gt;
  &lt;/ul&gt;
&lt;/nav&gt;
&lt;/aside&gt;

&lt;h1 id=&#34;web2-vs-web3-development-environment&#34;&gt;Web2 vs. Web3 development environment&lt;/h1&gt;
&lt;p&gt;Cloud services can be expensive. Because of this, we don&amp;rsquo;t want to pay for production infrastructure until our application is tested and ready to go live. So we first set up a local development environment. This environment often consists of a web server (eg. Apache, nginx), a database server (eg. MySQL, PostgreSQL, MongoDB), and a web framework (eg. Ruby on Rails, Flask, Laravel). We write code locally, iterate, and test repeatedly until our application is ready for prime time. Only then do we deploy our app to production.&lt;/p&gt;
&lt;p&gt;When building a web3 application, our end goal is to deploy our smart contract to Ethereum mainnet where it can be used by the world. But smart contracts are immutable and deploying to mainnet is expensive. We don&amp;rsquo;t want to deploy to mainnet until our code is tested and our data structures are finalized. While our dapp is in development, we want to be able to experiment, make mistakes, evolve our data structures, and simulate transactions using test ether and test accounts.&lt;/p&gt;
&lt;h1 id=&#34;what-is-hardhat&#34;&gt;What is hardhat?&lt;/h1&gt;
&lt;p&gt;&lt;a href=&#34;https://hardhat.org/&#34;&gt;Hardhat&lt;/a&gt; is an Ethereum development environment that allows us to test, compile, and run our smart contract code. It provides a local blockchain where we can deploy our smart contracts and test them with generated accounts and test ether. Once our application is working locally, we can then deploy it to a testnet and ultimately to mainnet.&lt;/p&gt;
&lt;h1 id=&#34;nodejs-and-npm&#34;&gt;Node.js and npm&lt;/h1&gt;
&lt;p&gt;Hardhat is distributed as an npm (Node Package Manager) package and uses the Node.js ecosystem. So we must first make sure we have a recent version of node and npm. Let&amp;rsquo;s open a terminal and enter some commands to check:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;node -v
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;v16.10.0
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;npm -v
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;8.3.1
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;I have node v16.10.0 and npm 8.3.1, but any version of node 16+ should be fine. If you don&amp;rsquo;t already have the node command, download the &lt;a href=&#34;https://nodejs.org/&#34;&gt;nodejs LTS version&lt;/a&gt; for your operating system here. The npm command comes with nodejs.&lt;/p&gt;
&lt;h1 id=&#34;setting-up-your-project&#34;&gt;Setting up your project&lt;/h1&gt;
&lt;p&gt;Let&amp;rsquo;s create a new directory for our project:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;mkdir calend3
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;Then inside of the calend3 directory, initialize the project:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;nb&#34;&gt;cd&lt;/span&gt; calend3
npm init -y
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;This will create a new file called package.json inside of your directory. The &lt;em&gt;&lt;strong&gt;-y&lt;/strong&gt;&lt;/em&gt; flag after &lt;em&gt;&lt;strong&gt;npm init&lt;/strong&gt;&lt;/em&gt; skips the project creation prompts and uses default values for the project name and version. You can always edit these values later.&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-javascript&#34; data-lang=&#34;javascript&#34;&gt;&lt;span class=&#34;nx&#34;&gt;Wrote&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;to&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;/&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;Users&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;/&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;larry&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;/&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;Projects&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;/&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;web3&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;-&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;tutorial&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;/&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;calend3&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;/&lt;/span&gt;&lt;span class=&#34;kr&#34;&gt;package&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;json&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;:&lt;/span&gt;

&lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
  &lt;span class=&#34;s2&#34;&gt;&amp;#34;name&amp;#34;&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;calend3&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;
  &lt;span class=&#34;s2&#34;&gt;&amp;#34;version&amp;#34;&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;1.0.0&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;
  &lt;span class=&#34;s2&#34;&gt;&amp;#34;description&amp;#34;&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;
  &lt;span class=&#34;s2&#34;&gt;&amp;#34;main&amp;#34;&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;index.js&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;
  &lt;span class=&#34;s2&#34;&gt;&amp;#34;scripts&amp;#34;&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
    &lt;span class=&#34;s2&#34;&gt;&amp;#34;test&amp;#34;&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;echo \&amp;#34;Error: no test specified\&amp;#34; &amp;amp;&amp;amp; exit 1&amp;#34;&lt;/span&gt;
  &lt;span class=&#34;p&#34;&gt;},&lt;/span&gt;
  &lt;span class=&#34;s2&#34;&gt;&amp;#34;keywords&amp;#34;&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;[],&lt;/span&gt;
  &lt;span class=&#34;s2&#34;&gt;&amp;#34;author&amp;#34;&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;
  &lt;span class=&#34;s2&#34;&gt;&amp;#34;license&amp;#34;&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;ISC&amp;#34;&lt;/span&gt;
&lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h2 id=&#34;installing-hardhat&#34;&gt;Installing hardhat&lt;/h2&gt;
&lt;p&gt;Now we have an empty node project. But we haven&amp;rsquo;t installed any packages or dependencies. Let&amp;rsquo;s change that by installing hardhat.&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;npm install --save-dev hardhat
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;You will see hardhat install along with its dependencies.&lt;/p&gt;
&lt;p&gt;Why did we use &lt;em&gt;&lt;strong&gt;&amp;ndash;save-dev&lt;/strong&gt;&lt;/em&gt; here? This flag specifies that hardhat is a development dependency. When our application goes to production, we don&amp;rsquo;t need to bundle hardhat &amp;ndash; it is only used in development.&lt;/p&gt;
&lt;p&gt;Once the package is installed, your project folder will contain a node_modules directory and a package-lock.json. You will also see that hardhat has been added to your package.json under devDependencies:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;cat package.json
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-json&#34; data-lang=&#34;json&#34;&gt;&lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
  &lt;span class=&#34;nt&#34;&gt;&amp;#34;name&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;calend3&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;
  &lt;span class=&#34;nt&#34;&gt;&amp;#34;version&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;1.0.0&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;
  &lt;span class=&#34;nt&#34;&gt;&amp;#34;description&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;web3 appointment scheduler&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;
  &lt;span class=&#34;nt&#34;&gt;&amp;#34;main&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;index.js&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;
  &lt;span class=&#34;nt&#34;&gt;&amp;#34;scripts&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
    &lt;span class=&#34;nt&#34;&gt;&amp;#34;test&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;echo \&amp;#34;Error: no test specified\&amp;#34; &amp;amp;&amp;amp; exit 1&amp;#34;&lt;/span&gt;
  &lt;span class=&#34;p&#34;&gt;},&lt;/span&gt;
  &lt;span class=&#34;nt&#34;&gt;&amp;#34;author&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;parttimelarry&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;
  &lt;span class=&#34;nt&#34;&gt;&amp;#34;license&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;ISC&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;
  &lt;span class=&#34;nt&#34;&gt;&amp;#34;devDependencies&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
    &lt;span class=&#34;nt&#34;&gt;&amp;#34;hardhat&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;^2.8.3&amp;#34;&lt;/span&gt;
  &lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
&lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h1 id=&#34;hardhat-cli&#34;&gt;Hardhat CLI&lt;/h1&gt;
&lt;p&gt;Cool, hardhat is installed. How do we use it? Let&amp;rsquo;s start by typing npx hardhat:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;npx hardhat
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;This will prompt you to either create a new sample hardhat project or just create an empty hardhat config. Choose the &amp;ldquo;basic sample project&amp;rdquo;.&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;m&#34;&gt;888&lt;/span&gt;    &lt;span class=&#34;m&#34;&gt;888&lt;/span&gt;                      &lt;span class=&#34;m&#34;&gt;888&lt;/span&gt; &lt;span class=&#34;m&#34;&gt;888&lt;/span&gt;               &lt;span class=&#34;m&#34;&gt;888&lt;/span&gt;
&lt;span class=&#34;m&#34;&gt;888&lt;/span&gt;    &lt;span class=&#34;m&#34;&gt;888&lt;/span&gt;                      &lt;span class=&#34;m&#34;&gt;888&lt;/span&gt; &lt;span class=&#34;m&#34;&gt;888&lt;/span&gt;               &lt;span class=&#34;m&#34;&gt;888&lt;/span&gt;
&lt;span class=&#34;m&#34;&gt;888&lt;/span&gt;    &lt;span class=&#34;m&#34;&gt;888&lt;/span&gt;                      &lt;span class=&#34;m&#34;&gt;888&lt;/span&gt; &lt;span class=&#34;m&#34;&gt;888&lt;/span&gt;               &lt;span class=&#34;m&#34;&gt;888&lt;/span&gt;
&lt;span class=&#34;m&#34;&gt;8888888888&lt;/span&gt;  8888b.  888d888 .d88888 88888b.   8888b.  &lt;span class=&#34;m&#34;&gt;888888&lt;/span&gt;
&lt;span class=&#34;m&#34;&gt;888&lt;/span&gt;    &lt;span class=&#34;m&#34;&gt;888&lt;/span&gt;     &lt;span class=&#34;s2&#34;&gt;&amp;#34;88b 888P&amp;#34;&lt;/span&gt;  d88&lt;span class=&#34;s2&#34;&gt;&amp;#34; 888 888 &amp;#34;&lt;/span&gt;88b     &lt;span class=&#34;s2&#34;&gt;&amp;#34;88b 888
&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;888    888 .d888888 888    888  888 888  888 .d888888 888
&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;888    888 888  888 888    Y88b 888 888  888 888  888 Y88b.
&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;888    888 &amp;#34;&lt;/span&gt;Y888888 &lt;span class=&#34;m&#34;&gt;888&lt;/span&gt;     &lt;span class=&#34;s2&#34;&gt;&amp;#34;Y88888 888  888 &amp;#34;&lt;/span&gt;Y888888  &lt;span class=&#34;s2&#34;&gt;&amp;#34;Y888
&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;
&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;👷 Welcome to Hardhat v2.8.3 👷‍
&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;
&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;? What do you want to do? …
&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;❯ Create a basic sample project
&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;  Create an advanced sample project
&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;  Create an advanced sample project that uses TypeScript
&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;  Create an empty hardhat.config.js
&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;  Quit
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;When you choose the basic project, you will be prompted for some information. Just press enter at all of the prompts to use the defaults:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;✔ What &lt;span class=&#34;k&#34;&gt;do&lt;/span&gt; you want to &lt;span class=&#34;k&#34;&gt;do&lt;/span&gt;? · Create a basic sample project
✔ Hardhat project root: · /Users/larry/Projects/web3-tutorial/calend3
✔ Do you want to add a .gitignore? &lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;Y/n&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt; · y
✔ Do you want to install this sample project&lt;span class=&#34;err&#34;&gt;&amp;#39;&lt;/span&gt;s dependencies with npm &lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;@nomiclabs/hardhat-waffle ethereum-waffle chai @nomiclabs/hardhat-ethers ethers&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt;? &lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;Y/n&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt; · y


npm install --save-dev @nomiclabs/hardhat-waffle@^2.0.0 ethereum-waffle@^3.0.0 chai@^4.2.0 @nomiclabs/hardhat-ethers@^2.0.0 ethers@^5.0.0
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;This will install a few more dependencies for development and testing, including chai, waffle, and ethers. We will talk more about how to use these in a moment. You should now see a few more files and folders in your project:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt; tree -L &lt;span class=&#34;m&#34;&gt;1&lt;/span&gt;
.
├── README.md
├── contracts
├── hardhat.config.js
├── node_modules
├── package-lock.json
├── package.json
├── scripts
└── &lt;span class=&#34;nb&#34;&gt;test&lt;/span&gt;

&lt;span class=&#34;m&#34;&gt;4&lt;/span&gt; directories, &lt;span class=&#34;m&#34;&gt;4&lt;/span&gt; files
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h2 id=&#34;tasks&#34;&gt;Tasks&lt;/h2&gt;
&lt;p&gt;The hardhat CLI command is used to run tasks. A hardhat task is just a JavaScript function that has access to the hardhat runtime environment (HRE). Now that your project is set up, typing &lt;em&gt;&lt;strong&gt;npx hardhat&lt;/strong&gt;&lt;/em&gt; will display a list of available tasks:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;npx hardhat
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;Hardhat version 2.8.3

Usage: hardhat &lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;GLOBAL OPTIONS&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt; &amp;lt;TASK&amp;gt; &lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;TASK OPTIONS&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt;

GLOBAL OPTIONS:

  --config           	A Hardhat config file.
  --emoji            	Use emoji in messages.
  --help             	Shows this message, or a task&lt;span class=&#34;s1&#34;&gt;&amp;#39;s help if its name is provided
&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;  --max-memory       	The maximum amount of memory that Hardhat can use.
&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;  --network          	The network to connect to.
&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;  --show-stack-traces	Show stack traces.
&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;  --tsconfig         	A TypeScript config file.
&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;  --verbose          	Enables Hardhat verbose logging
&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;  --version          	Shows hardhat&amp;#39;&lt;/span&gt;s version.


AVAILABLE TASKS:

  accounts	Prints the list of accounts
  check   	Check whatever you need
  clean   	Clears the cache and deletes all artifacts
  compile 	Compiles the entire project, building all artifacts
  console 	Opens a hardhat console
  flatten 	Flattens and prints contracts and their dependencies
  &lt;span class=&#34;nb&#34;&gt;help&lt;/span&gt;    	Prints this message
  node    	Starts a JSON-RPC server on top of Hardhat Network
  run     	Runs a user-defined script after compiling the project
  &lt;span class=&#34;nb&#34;&gt;test&lt;/span&gt;    	Runs mocha tests

To get &lt;span class=&#34;nb&#34;&gt;help&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;for&lt;/span&gt; a specific task run: npx hardhat &lt;span class=&#34;nb&#34;&gt;help&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;task&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;One of these tasks is &lt;em&gt;&lt;strong&gt;accounts&lt;/strong&gt;&lt;/em&gt; and it does exactly what the description says: it prints a list of acounts. Let&amp;rsquo;s try this out:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;npx hardhat accounts
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;This outputs a list of account addresses:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;0xf39Fd6e51aad88F6F4ce6aB8827279cffFb92266
0x70997970C51812dc3A010C7d01b50e0d17dc79C8
0x3C44CdDdB6a900fa2b585dd299e03d12FA4293BC
0x90F79bf6EB2c4f870365E785982E1f101E93b906
0x15d34AAf54267DB7D7c367839AAf71A00a2C6A65
0x9965507D1a55bcC2695C58ba16FB37d819B0A4dc
0x976EA74026E726554dB657fA54763abd0C3a0aa9
0x14dC79964da2C08b23698B3D3cc7Ca32193d9955
0x23618e81E3f5cdF7f54C3d65f7FBc0aBf5B21E8f
0xa0Ee7A142d267C1f36714E4a8F75612F20a79720
0xBcd4042DE499D14e55001CcbB24a551F3b954096
0x71bE63f3384f5fb98995898A86B02Fb2426c5788
0xFABB0ac9d68B0B445fB7357272Ff202C5651694a
0x1CBd3b2770909D4e10f157cABC84C7264073C9Ec
0xdF3e18d64BC6A983f673Ab319CCaE4f1a57C7097
0xcd3B766CCDd6AE721141F452C550Ca635964ce71
0x2546BcD3c84621e976D8185a91A922aE77ECEc30
0xbDA5747bFD65F08deb54cb465eB87D40e51B197E
0xdD2FD4581271e230360230F9337D5c0430Bf44C0
0x8626f6940E2eb28930eFb4CeF49B2d1F2C9C1199
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;These are test accounts provided by hardhat. They each have test ether. Rather than creating many wallets ourselves and sending them all Ether to test, we have some test accounts already that are on the local hardhat network. We can use these to test our application.&lt;/p&gt;
&lt;p&gt;Where is this task defined? Open the hardhat.config.js in your text editor and you can see the code. Notice the task has a name and description, followed by an async JavaScript function. This function retrieves the test accounts from the hardhat environment, then loops through and prints their addresses to the console.&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-javascript&#34; data-lang=&#34;javascript&#34;&gt;&lt;span class=&#34;c1&#34;&gt;// This is a sample Hardhat task. To learn how to create your own go to
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;// https://hardhat.org/guides/create-task.html
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;task&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;accounts&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;Prints the list of accounts&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;kr&#34;&gt;async&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;taskArgs&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;hre&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
  &lt;span class=&#34;kr&#34;&gt;const&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;accounts&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;kr&#34;&gt;await&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;hre&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;ethers&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;getSigners&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;();&lt;/span&gt;

  &lt;span class=&#34;k&#34;&gt;for&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;kr&#34;&gt;const&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;account&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;of&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;accounts&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
    &lt;span class=&#34;nx&#34;&gt;console&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;log&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;account&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;address&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;);&lt;/span&gt;
  &lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
&lt;span class=&#34;p&#34;&gt;});&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;Hardhat has other built-in tasks like compile, console, test, and node. We will use all of these commands in the next section to compile and test our Solidity code.&lt;/p&gt;
&lt;h1 id=&#34;hardhat-hackathon-boilerplate&#34;&gt;Hardhat Hackathon Boilerplate&lt;/h1&gt;
&lt;p&gt;The hardhat team provides a boilerplate hackathon project on Github at &lt;a href=&#34;https://github.com/nomiclabs/hardhat-hackathon-boilerplate&#34;&gt;https://github.com/nomiclabs/hardhat-hackathon-boilerplate&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;Take a quick look at the structure of this application to get a feel for how a dapp is structured. It has a contracts directory which contains smart contracts written in Solidity. It also has a frontend directory with a React web application. We will also be implementing a React UI for our application. But instead of using React class components, we will use hooks, which is a bit more modern.&lt;/p&gt;
&lt;h1 id=&#34;changing-some-defaults&#34;&gt;Changing Some Defaults&lt;/h1&gt;
&lt;p&gt;Let&amp;rsquo;s make a few modifications to our own hardhat project before moving on to the next section:&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;Delete the sample contract contracts/Greeter.sol. We will start from scratch.&lt;/li&gt;
&lt;li&gt;Rename scripts/sample-script.js to deploy.js&lt;/li&gt;
&lt;li&gt;Rename test/sample-test.js to test.js&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;In the next section, we will begin writing some Solidity code.&lt;/p&gt;
</description>
    </item>
    
    
    
    <item>
      <title>web3 tutorial [01/10] - calend3: building a web3 calendly</title>
      <link>https://hackingthemarkets.github.io/posts/calend3-web3-calendly/</link>
      <pubDate>Fri, 19 Feb 2021 06:31:29 -0800</pubDate>
      
      <guid>https://hackingthemarkets.github.io/posts/calend3-web3-calendly/</guid>
      <description>&lt;br /&gt;

&lt;div style=&#34;position: relative; padding-bottom: 56.25%; height: 0; overflow: hidden;&#34;&gt;
  &lt;iframe src=&#34;https://www.youtube.com/embed/WFCqGJ-rxJY&#34; style=&#34;position: absolute; top: 0; left: 0; width: 100%; height: 100%; border:0;&#34; allowfullscreen title=&#34;YouTube Video&#34;&gt;&lt;/iframe&gt;
&lt;/div&gt;

&lt;h1 id=&#34;calendly-web3-and-twitter&#34;&gt;Calendly, Web3, and Twitter&lt;/h1&gt;
&lt;p&gt;One of my favorite hobbies is building app tutorials in response to trending Twitter topics. On my &lt;a href=&#34;https://www.youtube.com/parttimelarry&#34;&gt;YouTube channel&lt;/a&gt;, we&amp;rsquo;ve used Python to scrape Wall Street Bets, built an ARK Invest database, and parsed PDFs containing Nancy Pelosi&amp;rsquo;s options trades. These apps are fun to build for a few reasons:&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;They relate to the current moment in time&lt;/li&gt;
&lt;li&gt;They are more interesting and original than typical example projects&lt;/li&gt;
&lt;li&gt;They aren&amp;rsquo;t too serious, which is part of the fun&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;If you&amp;rsquo;ve spent any time on Tech Twitter or Crypto Twitter lately, &amp;ldquo;web3&amp;rdquo; is the hot topic. There is currently a battle between proponents of web3 and its critics. Its proponents claim &lt;strong&gt;web3 is revolutionary&lt;/strong&gt; and is the &lt;strong&gt;future of the Internet&lt;/strong&gt;. Its critics think it is &lt;strong&gt;at best&lt;/strong&gt; a buzzword and &lt;strong&gt;at worst&lt;/strong&gt; &amp;ndash; it will destroy planet Earth. As with most things these days, the extremes go a bit too far and the truth is probably somewhere in the middle.&lt;/p&gt;
&lt;h2 id=&#34;what-were-building&#34;&gt;What We&amp;rsquo;re Building&lt;/h2&gt;
&lt;p&gt;The app (or dapp in this case) we are building in this tutorial was inspired by a few tweets that were trending during my last week at work:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;https://twitter.com/lessin/status/1486477359717187589&#34;&gt;‘Calendly’ Etiquette Tweet&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://twitter.com/levie/status/1486567312081571843&#34;&gt;Web3 solves the byzantine calendly problem&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://twitter.com/anildash/status/1486582562520985601&#34;&gt;Automate realtime auctions for your time&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://twitter.com/jackbutcher/status/1486871374887100416&#34;&gt;calendly but every slot is an nft sold to the highest bidder&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;img src=&#34;https://hackingthemarkets.github.io/web3-tutorial/calend3/calendly-tweet1.png&#34; style=&#34;width: 700px&#34; /&gt;
&lt;p&gt;So this guy wrote up a post about how he finds calendly links offensive, and there was a discussion on Twitter about this for a couple of days. Naturally, there were a few jokes about web3 and calendly. A web3 critic joked about writing code to auction your time to the highest bidder.&lt;/p&gt;
&lt;img src=&#34;https://hackingthemarkets.github.io/web3-tutorial/calend3/calendly-tweet2.png&#34; style=&#34;width: 700px&#34; /&gt;
&lt;p&gt;Even though this was a joke, I thought it would be fun to make and would be a good learning experience. I have a lot of time on my hands, so I thought I would build a simple web3 calendar that charges Ether to schedule a meeting. I had been meaning to spend more time learning Solidity, and there is even an &lt;a href=&#34;https://docs.soliditylang.org/en/latest/solidity-by-example.html?highlight=auction#blind-auction&#34;&gt;auction example in the Solidity documentation&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;As usual, I documented the process along the way and I&amp;rsquo;m going to share it with you. And even if you think a web3 calendar is a silly idea, I hope a handful of people will learn something from this tutorial and go on to build something better. I certainly learned a lot while making it.&lt;/p&gt;
&lt;h2 id=&#34;how-we-will-build-it&#34;&gt;How We Will Build It&lt;/h2&gt;
&lt;p&gt;This is a 10 part tutorial. Each part has a video and a written version. You are reading Part 1 now. The next 9 parts will build the application step by step so that you can follow along. Here is an overview of each part and its focus:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;Hardhat&lt;/strong&gt;. When developing a &amp;ldquo;traditional&amp;rdquo; web application, we typically set up a local development environment (eg. the &lt;a href=&#34;https://en.wikipedia.org/wiki/LAMP_(software_bundle)&#34;&gt;LAMP stack&lt;/a&gt;). When we are developing on Ethereum, we will set up a local environment using Hardhat. This will be the focus of &lt;strong&gt;Part 2&lt;/strong&gt;.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;img src=&#34;https://hackingthemarkets.github.io/web3-tutorial/calend3/hardhat.png&#34; alt=&#34;Connect Wallet&#34;&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;Solidity and Smart Contracts&lt;/strong&gt;. When using a relational database, it is common to write some logic in stored procedures using SQL. I think of a smart contract as being similar to a stored procedure. Instead of being written in SQL, it is written in Solidity. Instead of being stored in PostgreSQL or MySQL, it is stored in a distributed, public database &amp;ndash; the Ethereum blockchain. We&amp;rsquo;ll start by creating a smart contract to set the &lt;strong&gt;rate&lt;/strong&gt; to charge for a meeting. This will be the focus of &lt;strong&gt;Part 3&lt;/strong&gt;.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;img src=&#34;https://hackingthemarkets.github.io/web3-tutorial/calend3/smart.png&#34; alt=&#34;Connect Wallet&#34;&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;Metamask&lt;/strong&gt;. Clients will connect to our application using an Ethereum wallet. We will use Metamask since it is the most popular and most developer-friendly. This will be the focus of &lt;strong&gt;Part 4&lt;/strong&gt;.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;img src=&#34;https://hackingthemarkets.github.io/web3-tutorial/calend3/metamask.png&#34; alt=&#34;Metamask&#34;&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;Alchemy&lt;/strong&gt;. Most people don&amp;rsquo;t run their own web server and database server at home. It isn&amp;rsquo;t that hard, but most people don&amp;rsquo;t want to worry about monitoring, alerting, and uptime. Likewise, running an Ethereum node ourselves is time consuming and we are busy people. We want to focus on building our dapp. Therefore we will use Alchemy, a popular node provider, to deploy our smart contract. This will be the focus of &lt;strong&gt;Part 5&lt;/strong&gt;.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;img src=&#34;https://hackingthemarkets.github.io/web3-tutorial/calend3/alchemy.png&#34; alt=&#34;Connect Wallet&#34;&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;React&lt;/strong&gt;. Our app needs a frontend. Users don&amp;rsquo;t really care about your smart contracts or node providers. They just want to click a couple of buttons and get what they want. In this case, they want to schedule an appointment. We&amp;rsquo;ll build a frontend using React, the most popular JavaScript library for building user interfaces. We will first build the &lt;strong&gt;Connect Wallet&lt;/strong&gt; screen, which is the sign-in experience for our application. This will be the focus of &lt;strong&gt;Part 6&lt;/strong&gt;.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;img src=&#34;https://hackingthemarkets.github.io/web3-tutorial/calend3/connectwallet.png&#34; alt=&#34;Connect Wallet&#34;&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;Appointments and Payments&lt;/strong&gt;. The &lt;strong&gt;owner&lt;/strong&gt; of the calendar will receive &lt;strong&gt;payment in ether&lt;/strong&gt; for each meeting. We will calculate the cost of each meeting based on its start and end time. We will charge the client when the meeting is scheduled and store the meeting data in an &lt;strong&gt;array&lt;/strong&gt; of &lt;strong&gt;structs&lt;/strong&gt;. This will be the focus of &lt;strong&gt;Part 7&lt;/strong&gt;.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;img src=&#34;https://hackingthemarkets.github.io/web3-tutorial/calend3/appointments.png&#34; alt=&#34;Appointments&#34;&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;Material UI&lt;/strong&gt;. One of the primary benefits of using React is its ecosystem. Material UI is a popular component library that we can use to add complex UI components without reinventing the wheel. We will customize a Scheduler component to display a weekly calendar to the client. This will be the focus of &lt;strong&gt;Part 8&lt;/strong&gt;.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;img src=&#34;https://hackingthemarkets.github.io/web3-tutorial/calend3/setrate.png&#34; alt=&#34;Set Rate&#34;&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;Ethers.js&lt;/strong&gt;. You may have built webapps that interact with REST APIs. But in our case, we want to interact with a smart contract. We&amp;rsquo;ll learn how to use Ethers.js and an ABI (Application Binary Interface) to call our smart contract from our UI. This will be the focus of &lt;strong&gt;Part 9&lt;/strong&gt;.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;img src=&#34;https://hackingthemarkets.github.io/web3-tutorial/calend3/meeting-form.png&#34; alt=&#34;Sign&#34;&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://hackingthemarkets.github.io/web3-tutorial/calend3/sign.png&#34; alt=&#34;Sign&#34;&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;Notifications&lt;/strong&gt;. When a client schedules an appointment, we want to know about it immediately. To accomplish this, we&amp;rsquo;ll use &lt;strong&gt;Alchemy Notify&lt;/strong&gt; and &lt;strong&gt;Twilio&lt;/strong&gt;. We&amp;rsquo;ll receive an &lt;strong&gt;SMS text message&lt;/strong&gt; when someone interacts with our smart contract. The message will contain some details about the transaction and provide us a clickable Etherscan link:&lt;/li&gt;
&lt;/ul&gt;
&lt;img style=&#34;width: 300px&#34; src=&#34;https://hackingthemarkets.github.io/web3-tutorial/calend3/notifications.png&#34;&gt;
&lt;h1 id=&#34;make-it-your-own&#34;&gt;Make It Your Own&lt;/h1&gt;
&lt;p&gt;At the end of the tutorial, we will have built an appointment scheduler that uses web3 tools and technologies. Who knows, maybe you can iterate on this and it will be the next billion dollar app. I hope so!&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://hackingthemarkets.github.io/web3-tutorial/calend3/scheduled.png&#34; alt=&#34;Scheduled&#34;&gt;&lt;/p&gt;
</description>
    </item>
    
    
  </channel>
</rss>
